{% from "../macros/commodity-description.njk" import commodityDescription %}

{% set maxLength = 50 %}

<table class="govuk-table govuk-table--small-text-until-tablet btms-notification">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header">Item number</th>
      <th scope="col" class="govuk-table__header">Commodity code</th>
      <th scope="col" class="govuk-table__header">Description</th>
      <th scope="col" class="govuk-table__header">Quantity / Weight</th>
      <th scope="col" class="govuk-table__header">Authority</th>
      <th scope="col" class="govuk-table__header">Decision</th>
    </tr>
  </thead>
  {% for commodity in preNotification.commodities %}
    <tbody>
      {% for check in commodity.checks %}
        <tr data-ched-authority="{{ check.authority }}">
          <td class="govuk-table__cell">{% if loop.first %}{{ commodity.complementId }}{% endif %}</td>
          <td class="govuk-table__cell">{% if loop.first %}{{ commodity.commodityId }}{% endif %}</td>
          <td class="govuk-table__cell">{% if loop.first %}{{ commodityDescription(commodity.commodityDesc, commodity.id, maxLength) }}{% endif %}</td>
          <td class="govuk-table__cell">{% if loop.first %}{{ commodity.weightOrQuantity }}{% endif %}</td>
          <td class="govuk-table__cell">
              {{ check.authority }}
          </td>
          <td class="govuk-table__cell">
            {{ check.decision }}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  {% endfor %}
</table>
